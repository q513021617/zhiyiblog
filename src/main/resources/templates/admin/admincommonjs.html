<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" >
<div th:fragment="common_js(scripts)">
    <!-- jQuery -->
    <script src="/plugins/jquery/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="/plugins/jquery-ui/jquery-ui.min.js"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->

    <!-- Bootstrap 4 -->
    <script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- ChartJS -->
    <script src="/plugins/chart.js/Chart.min.js"></script>
    <!-- Sparkline -->
    <!-- <script src="plugins/sparklines/sparkline.js"></script> -->
    <!-- JQVMap -->
    <script src="/plugins/jqvmap/jquery.vmap.min.js"></script>
    <script src="/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
    <!-- jQuery Knob Chart -->
    <script src="/plugins/jquery-knob/jquery.knob.min.js"></script>
    <!-- daterangepicker -->
    <script src="/plugins/moment/moment.min.js"></script>
    <script src="/plugins/daterangepicker/daterangepicker.js"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
    <!-- Summernote -->
    <script src="/plugins/summernote/summernote-bs4.min.js"></script>
    <!-- overlayScrollbars -->
    <script src="/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/dist/js/adminlte.js"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <!-- <script src="dist/js/pages/dashboard.js"></script> -->
    <!-- AdminLTE for demo purposes -->
    <script src="/dist/js/demo.js"></script>

    <script>
        Date.prototype.Format = function (fmt) {
            var o = {
                "M+": this.getMonth() + 1, //月份
                "d+": this.getDate(), //日
                "H+": this.getHours(), //小时
                "m+": this.getMinutes(), //分
                "s+": this.getSeconds(), //秒
                "q+": Math.floor((this.getMonth() + 3) / 3), //季度
                "S": this.getMilliseconds() //毫秒
            };
            if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
            for (var k in o)
                if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
            return fmt;
        }

        function getLocalTime(nS) {

            return nS.Format("yyyy-MM-dd HH:mm:ss");
        }

        function delData(data,url,alertTitle,alertContent,callback) {

            $.ajax({
                url: url,
                type: 'DELETE',
                data:data,
                success: function(result) {
                    console.log("删除: "+result);
                    //alertTitle  alertContent
                    // showalert("提示:","更新用户成功!");
                    showalert(alertTitle,alertContent);
                    setTimeout(hidealert,1000);
                    callback();
                }
            });

        }

        function updateData(data,url,alertTitle,alertContent,callback) {

            $.ajax({
                url: url,
                type: 'PUT',
                data:data,
                success: function(result) {
                    console.log("更新: "+result);
                    //alertTitle  alertContent
                    // showalert("提示:","更新用户成功!");
                    showalert(alertTitle,alertContent);
                    setTimeout(hidealert,1000);
                    callback();
                }
            });

        }
        function addData(data,url,alertTitle,alertContent,callback) {

            $.ajax({
                url: url,
                type: 'POST',
                data:data,
                success: function(result) {
                    console.log("添加: "+result);

                    showalert(alertTitle,alertContent);
                    setTimeout(hidealert,1000);
                    callback();
                }
            });

        }
        function getData(data,url,alertTitle,alertContent,callback) {

            $.ajax({
                url: url,
                type: 'GET',
                data:data,
                success: function(result) {
                    console.log("添加: "+result);

                    showalert(alertTitle,alertContent);
                    setTimeout(hidealert,1000);
                    callback();
                }
            });

        }

        function showalert(title,info) {

            $("#toastsContainerTopRight .toast-header strong").html(title);
            $("#toastsContainerTopRight .toast-header small").html("");
            $("#toastsContainerTopRight .toast-body").html(info);
            $("#toastsContainerTopRight div").addClass("show");
        }

        function hidealert() {

            $("#toastsContainerTopRight div").removeClass("show");
        }
    </script>
</div>
</html>